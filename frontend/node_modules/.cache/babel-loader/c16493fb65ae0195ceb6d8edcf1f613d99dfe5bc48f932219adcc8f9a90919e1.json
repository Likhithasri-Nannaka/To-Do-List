{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateTodo=()=>{const{id}=useParams();const navigate=useNavigate();const[todo,setTodo]=useState({title:'',completed:false});const[error,setError]=useState('');useEffect(()=>{const fetchTodo=async()=>{try{const response=await fetch(`http://localhost:10000/api/todos/${id}`,{method:'GET',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`}});if(!response.ok){throw new Error('Todo not found');}const data=await response.json();setTodo({title:data.title,completed:data.completed});}catch(error){}};fetchTodo();},[id]);const handleInputChange=e=>{const{name,value}=e.target;setTodo({...todo,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(`http://localhost:10000/api/todos/${id}`,{method:'PUT',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify(todo)});if(!response.ok){throw new Error('Failed to update todo');}navigate('/todos');}catch(error){console.error('Failed to update todo:',error);setError('Failed to update todo');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update To-Do\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Re-Edit:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:todo.title,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Completed:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"completed\",checked:todo.completed,onChange:e=>setTodo({...todo,completed:e.target.checked})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update To-Do\"})]})]});};export default UpdateTodo;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdateTodo","id","navigate","todo","setTodo","title","completed","error","setError","fetchTodo","response","fetch","method","headers","localStorage","getItem","ok","Error","data","json","handleInputChange","e","name","value","target","handleSubmit","preventDefault","body","JSON","stringify","console","children","style","color","onSubmit","type","onChange","required","checked"],"sources":["/home/saitejanannaka/Automation/TejaProjects/todo-app/frontend/src/components/UpdateTodo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst UpdateTodo = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [todo, setTodo] = useState({ title: '', completed: false });\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchTodo = async () => {\n      try {\n        const response = await fetch(`http://localhost:10000/api/todos/${id}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          },\n        });\n        if (!response.ok) {\n          throw new Error('Todo not found');\n        }\n        const data = await response.json();\n        setTodo({\n          title: data.title,\n          completed: data.completed,\n        });\n      } catch (error) {\n\n      }\n    };\n\n    fetchTodo();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setTodo({ ...todo, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(`http://localhost:10000/api/todos/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        },\n        body: JSON.stringify(todo),\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update todo');\n      }\n      navigate('/todos');\n    } catch (error) {\n      console.error('Failed to update todo:', error);\n      setError('Failed to update todo');\n    }\n  };\n\n  return (\n    <div>\n      <h2>Update To-Do</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Re-Edit:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={todo.title}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Completed:</label>\n          <input\n            type=\"checkbox\"\n            name=\"completed\"\n            checked={todo.completed}\n            onChange={(e) =>\n              setTodo({ ...todo, completed: e.target.checked })\n            }\n          />\n        </div>\n        <button type=\"submit\">Update To-Do</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateTodo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}